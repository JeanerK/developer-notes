微服务
--------------------

热点名词
* DevOps (Development Operations)
* Service Mesh (服务网格)
* Serverless 无服务器
    > 可以理解成 FaaS（Function as a Service，函数即服务）   
    代表产品：AWS Lambda
    
    

## Spring cloud 与 Kubernetes 组件

分别使用Spring cloud Kubernetes微服务的实现组件

|  | Spring Cloud | Kubernetes |
| :--- | :--- | :--- |
| 服务发现 | Eureka , Consul , Nacos | kube-dns Services |
| 服务通讯 | Ribbon , Feign | Thrift , grpc |
| 配置管理 | Config , Bus ,Nacos Config | ConfigMap |
| 负载均衡 | Ribbon RestTemplate | Services , Ingress |
| 网关 | Zuul , Gateway |  |
| 链路跟踪 | Sleuth , Zipkin,Jaeger | OpenTracing |
| 容错熔断器 | Hystrix, Sentinel |  |
| 安全模块 | Security |  |
| 分布式日志 | ELK | ELK |
| 任务管理 | Batch | Jobs |
| 分布式事务 | seata |  |

#### 优秀案例

[Microservice Architectures With Spring Cloud and Docker](https://dzone.com/articles/microservice-architecture-with-spring-cloud-and-do)

[Microservice Architecture with Spring Boot, Spring Cloud and Docker ](https://github.com/sqshq/PiggyMetrics)


## 负载均衡
* OSPF(开放式最短链路优先)是一个内部网关协议(Interior Gateway Protocol,简称IGP)。OSPF通过路由器之间通告网络接口的状态来建立链路状态数据库，生成最短路径树，OSPF会自动计算路由接口上的Cost值，但也可以通过手工指定该接口的Cost值，手工指定的优先于自动计算的值。OSPF计算的Cost，同样是和接口带宽成反比，带宽越高，Cost值越小。到达目标相同Cost值的路径，可以执行负载均衡，最多6条链路同时执行负载均衡。
* LVS (Linux VirtualServer)，它是一种集群(Cluster)技术，采用IP负载均衡技术和基于内容请求分发技术。调度器具有很好的吞吐率，将请求均衡地转移到不同的服务器上执行，且调度器自动屏蔽掉服务器的故障，从而将一组服务器构成一个高性能的、高可用的虚拟服务器。
* Nginx实现负载均衡的方式主要有三种:轮询、加权轮询、ip hash轮询


## 关键问题字
* C10K   ---->  epoll
